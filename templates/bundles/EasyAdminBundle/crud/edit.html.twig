{# @var ea \EasyCorp\Bundle\EasyAdminBundle\Context\AdminContext #}
{# @var entity \EasyCorp\Bundle\EasyAdminBundle\Dto\EntityDto #}
{% extends ea.templatePath('layout') %}
{% form_theme edit_form with ea.crud.formThemes only %}

{% trans_default_domain ea.i18n.translationDomain %}

{% block body_id 'ea-edit-' ~ entity.name ~ '-' ~ entity.primaryKeyValue %}
{% block body_class 'ea-edit ea-edit-' ~ entity.name %}

	{% block configured_head_contents %}
	{{ parent() }}
		{% for htmlContent in edit_form.vars.ea_crud_form.assets.headContents %}
	{{ htmlContent|raw }}

{% endfor %}
{% endblock %}

	{% block configured_body_contents %}
	{{ parent() }}
		{% for htmlContent in edit_form.vars.ea_crud_form.assets.bodyContents %}
	{{ htmlContent|raw }}
{% endfor %}
{% endblock %}

	{% block configured_stylesheets %}
	{{ parent() }}
	{{ include('@EasyAdmin/includes/_css_assets.html.twig', { assets: edit_form.vars.ea_crud_form.assets.cssAssets }, with_context = false) }}
{{ include('@EasyAdmin/includes/_encore_link_tags.html.twig', { assets: edit_form.vars.ea_crud_form.assets.webpackEncoreAssets }, with_context = false) }}
{% endblock %}

	{% block configured_javascripts %}
	{{ parent() }}
	{{ include('@EasyAdmin/includes/_js_assets.html.twig', { assets: edit_form.vars.ea_crud_form.assets.jsAssets }, with_context = false) }}
{{ include('@EasyAdmin/includes/_encore_script_tags.html.twig', { assets: edit_form.vars.ea_crud_form.assets.webpackEncoreAssets }, with_context = false) }}
{% endblock %}

	{% block content_title %}
	{%- apply spaceless -%}
	{% set custom_page_title = ea.crud.customPageTitle(pageName, entity ? entity.instance : null) %}
	{{ custom_page_title is null
            ? (ea.crud.defaultPageTitle|trans(ea.i18n.translationParameters, 'EasyAdminBundle'))|raw
            : (custom_page_title|trans(ea.i18n.translationParameters))|raw }}
{%- endapply -%}
{% endblock %}

	{% block page_actions %}
		{% for action in entity.actions %}
	{{ include(action.templatePath, { action: action }, with_context = false) }}
{% endfor %}
{% endblock %}

	{% block main %}
		{% block edit_form %}
		{# {{ form(edit_form) }} #}
		{% if images is defined and images|length >= 1 %}
			<div class="row">
				<section  class="col-md-6">
					{{ form_start(edit_form) }}
					{{ form_end(edit_form) }}
				</section>
				<section class="col-md-6">
						{% if images is defined and images|length >= 1%}
							{# <img src={{images[0]}} alt=""> #}
							<div id="carouselExampleIndicators" class="carousel slide" style="width:100%" data-ride="carousel">
								<ol class="carousel-indicators">
									{% for image in images %}

										<li data-target="#carouselExampleIndicators" data-slide-to="{{loop.index}}" {% if loop.first %} class="active" {% endif %}></li>
									{% endfor %}
								</ol>
								<div class="carousel-inner">
								{% for image in images %}
									
									<div  class="carousel-item {{ loop.first ? 'active' : '' }}">
										<img src="{{ image }}" class="d-block w-100" height="500" alt="...">
									</div>
								{% endfor %}
									{# <div class="carousel-item">
										<img src="{{images[1]}}" class="d-block w-100" height="500" alt="...">
									</div>
									<div class="carousel-item">
										<img src="{{images[2]}}" class="d-block w-100" height="500" alt="...">
									</div> #}
								</div>
								<a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
									<span class="carousel-control-prev-icon" aria-hidden="true"></span>
									<span class="sr-only">Previous</span>
								</a>
								<a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
									<span class="carousel-control-next-icon" aria-hidden="true"></span>
									<span class="sr-only">Next</span>
								</a>
							</div>
						{% endif %}
				</section>
			</div>
		{% else %}
			{{ form(edit_form) }}
		{% endif %}
		
		{% endblock edit_form %}

			{% block delete_form %}
		{{ include('@EasyAdmin/crud/includes/_delete_form.html.twig', { entity_id: entity.primaryKeyValue }, with_context = false) }}
		{% endblock delete_form %}

		
            <div class="modal fade" id="activeAccountModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
				<div class="modal-dialog">
					<div class="modal-content">
						<div class="modal-header">
							<h5 class="modal-title" id="exampleModalLabel">Validation
							</h5>
							<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
						</div>
						<div class="modal-body">
							Voulez vous vraiment valider cette action ?
						</div>
						<div class="modal-footer">
							<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Annuler</button>
							<button type="button" class="btn btn-primary confirmactiveAccount">Confirmer</button>
						</div>
					</div>
				</div>
			</div>

	{% endblock %}
